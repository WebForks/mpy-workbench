{
  "name": "MicroPython-WorkBench",
  "icon": "media/logo.png",
  "displayName": "MicroPython-WorkBench",
  "description": "Fork of MPY-WorkBench to fix bugs and issues.  Browse and manage MicroPython files on ESP32 and similar boards via mpremote.",
  "version": "0.0.3",
  "publisher": "WebForks",
  "engines": {
    "vscode": "^1.84.0"
  },
  "extensionDependencies": [],
  "extensionPack": [],
  "extensionKind": [
    "workspace"
  ],
  "capabilities": {
    "untrustedWorkspaces": {
      "supported": true
    }
  },
  "extensionPack": [],
  "categories": [
    "Programming Languages",
    "Debuggers"
  ],
  "activationEvents": [
    "onLanguage:python"
  ],
  "main": "./dist/extension.js",
  "scripts": {
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.11.30",
    "@types/vscode": "^1.84.0",
    "typescript": "^5.4.0",
    "vsce": "^2.15.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/WebForks/mpy-workbench/"
  },
  "contributes": {
    "viewsWelcome": [
      {
        "view": "microPythonWorkBenchFsView",
        "contents": "No serial port selected.\n\n[Select Serial Port](command:microPythonWorkBench.pickPort)",
        "when": "!microPythonWorkBench.hasPort"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "microPythonWorkBenchFs",
          "title": "MicroPython WorkBench",
          "icon": "./media/activitybar.svg"
        }
      ]
    },
    "customEditors": [],
    "css": [
      "./media/esp32fs.css"
    ],
    "views": {
      "microPythonWorkBenchFs": [
        {
          "id": "microPythonWorkBenchFsView",
          "name": "Files",
          "icon": "$(files)"
        },
        {
          "id": "microPythonWorkBenchActionsView",
          "name": "Board Actions",
          "icon": "$(tools)"
        },
        {
          "id": "microPythonWorkBenchSyncView",
          "name": "Sync Files",
          "icon": "$(sync)"
        }
      ]
    },
    "commands": [
      {
        "command": "microPythonWorkBench.refresh",
        "title": "MicroPython WorkBench: Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "microPythonWorkBench.openFile",
        "title": "MicroPython WorkBench: Open File from board"
      },
      {
        "command": "microPythonWorkBench.uploadActiveFile",
        "title": "MicroPython WorkBench: Upload Active File"
      },
      {
        "command": "microPythonWorkBench.newFileBoardAndLocal",
        "title": "MicroPython WorkBench: New File (Board + Local)",
        "icon": "$(new-file)"
      },
      {
        "command": "microPythonWorkBench.newFileInTree",
        "title": "MicroPython WorkBench: New File Here",
        "icon": "$(new-file)"
      },
      {
        "command": "microPythonWorkBench.newFolderInTree",
        "title": "MicroPython WorkBench: New Folder Here",
        "icon": "$(new-folder)"
      },
      {
        "command": "microPythonWorkBench.renameNode",
        "title": "MicroPython WorkBench: Rename File/Folder",
        "icon": "$(edit)"
      },
      {
        "command": "microPythonWorkBench.pickPort",
        "title": "MicroPython WorkBench: Select Serial Port",
        "icon": "$(plug)"
      },
      {
        "command": "microPythonWorkBench.refreshPorts",
        "title": "MicroPython WorkBench: Refresh Ports",
        "icon": "$(refresh)"
      },
      {
        "command": "microPythonWorkBench.setPort",
        "title": "MicroPython WorkBench: Use This Port"
      },
      {
        "command": "microPythonWorkBench.mkdir",
        "title": "MicroPython WorkBench: New Folder"
      },
      {
        "command": "microPythonWorkBench.openSerial",
        "title": "MicroPython WorkBench: Open Serial Monitor",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonWorkBench.openRepl",
        "title": "MicroPython WorkBench: Open REPL",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonWorkBench.runActiveFile",
        "title": "MicroPython WorkBench: Run Active File",
        "icon": "$(play)"
      },
      {
        "command": "microPythonWorkBench.stop",
        "title": "MicroPython WorkBench: Stop (Ctrl-C/A/D)",
        "icon": "$(debug-stop)"
      },
      {
        "command": "microPythonWorkBench.softReset",
        "title": "MicroPython WorkBench: Soft Reset (Ctrl-D)",
        "icon": "$(debug-restart)"
      },
      {
        "command": "microPythonWorkBench.syncBaseline",
        "title": "MicroPython WorkBench: Sync all files (Local → Board)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonWorkBench.checkDiffs",
        "title": "MicroPython WorkBench: Check files differences",
        "icon": "$(diff)"
      },
      {
        "command": "microPythonWorkBench.syncDiffsLocalToBoard",
        "title": "MicroPython WorkBench: Sync changed Files Local → Board",
        "icon": "$(export)"
      },
      {
        "command": "microPythonWorkBench.syncDiffsBoardToLocal",
        "title": "MicroPython WorkBench: Sync changed Files Board → Local",
        "icon": "$(import)"
      },
      {
        "command": "microPythonWorkBench.syncBaselineFromBoard",
        "title": "MicroPython WorkBench: Sync all files (Board → Local)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonWorkBench.serialSendCtrlC",
        "title": "MicroPython WorkBench: Interrupt (Ctrl-C, Ctrl-B)",
        "icon": "$(debug-pause)"
      },
      {
        "command": "microPythonWorkBench.openFileFromLocal",
        "title": "MicroPython WorkBench: Open File from Local (default)",
        "icon": "$(file-directory)"
      },
      {
        "command": "microPythonWorkBench.flashMicroPython",
        "title": "MicroPython WorkBench: Flash MicroPython Firmware"
      },
      {
        "command": "microPythonWorkBench.syncFileLocalToBoard",
        "title": "MicroPython WorkBench: Sync File Local → Board",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonWorkBench.syncFileBoardToLocal",
        "title": "MicroPython WorkBench: Sync File Board → Local",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonWorkBench.delete",
        "title": "MicroPython WorkBench: Delete from Board"
      },
      {
        "command": "microPythonWorkBench.deleteBoardAndLocal",
        "title": "MicroPython WorkBench: Delete from Board and Local",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonWorkBench.runFromView",
        "title": "MicroPython WorkBench: Run Command (View Wrapper)"
      },
      {
        "command": "microPythonWorkBench.syncBaselineFromView",
        "title": "MicroPython WorkBench: Sync all files (Local → Board) (View)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonWorkBench.syncBaselineFromBoardFromView",
        "title": "MicroPython WorkBench: Sync all files (Board → Local) (View)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonWorkBench.checkDiffsFromView",
        "title": "MicroPython WorkBench: Check files differences (View)",
        "icon": "$(diff)"
      },
      {
        "command": "microPythonWorkBench.syncDiffsLocalToBoardFromView",
        "title": "MicroPython WorkBench: Sync changed Files Local → Board (View)",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "microPythonWorkBench.syncDiffsBoardToLocalFromView",
        "title": "MicroPython WorkBench: Sync changed Files Board → Local (View)",
        "icon": "$(cloud-download)"
      },
      {
        "command": "microPythonWorkBench.runActiveFileFromView",
        "title": "MicroPython WorkBench: Run Active File (View)",
        "icon": "$(play)"
      },
      {
        "command": "microPythonWorkBench.openReplFromView",
        "title": "MicroPython WorkBench: Open REPL (View)",
        "icon": "$(terminal)"
      },
      {
        "command": "microPythonWorkBench.deleteAllBoard",
        "title": "MicroPython WorkBench: Delete ALL files on Board",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonWorkBench.deleteAllBoardFromView",
        "title": "MicroPython WorkBench: Delete ALL files on Board (View)",
        "icon": {
          "light": "./media/trash-red.svg",
          "dark": "./media/trash-red.svg"
        }
      },
      {
        "command": "microPythonWorkBench.toggleWorkspaceAutoSync",
        "title": "MicroPython WorkBench: Toggle workspace Auto-Sync on Save"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "microPythonWorkBench.syncBaselineFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonWorkBench.syncBaselineFromBoardFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonWorkBench.checkDiffsFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@3"
        },
        {
          "command": "microPythonWorkBench.syncDiffsLocalToBoardFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@4"
        },
        {
          "command": "microPythonWorkBench.syncDiffsBoardToLocalFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@5"
        },
        {
          "command": "microPythonWorkBench.deleteAllBoardFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@9"
        },
        {
          "command": "microPythonWorkBench.runActiveFileFromView",
          "when": "view == microPythonWorkBenchActionsView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonWorkBench.openReplFromView",
          "when": "view == microPythonWorkBenchActionsView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonWorkBench.flashMicroPython",
          "when": "view == microPythonWorkBenchActionsView",
          "group": "navigation@9"
        },
        {
          "command": "microPythonWorkBench.serialSendCtrlC",
          "when": "view == microPythonWorkBenchActionsView",
          "group": "navigation@2"
        },
        {
          "command": "microPythonWorkBench.refresh",
          "when": "view == microPythonWorkBenchFsView",
          "group": "navigation@0"
        },
        {
          "command": "microPythonWorkBench.pickPort",
          "when": "view == microPythonWorkBenchFsView",
          "group": "navigation@1"
        },
        {
          "command": "microPythonWorkBench.checkDiffsFromView",
          "when": "view == microPythonWorkBenchSyncView",
          "group": "navigation@3"
        }
      ],
      "view/item/context": [
        {
          "command": "microPythonWorkBench.renameNode",
          "when": "view == microPythonWorkBenchFsView && (viewItem == file || viewItem == dir)",
          "group": "2_edit@1"
        },
        {
          "command": "microPythonWorkBench.openFile",
          "when": "view == microPythonWorkBenchFsView && viewItem == file",
          "group": "1_open@1"
        },
        {
          "command": "microPythonWorkBench.openFileFromLocal",
          "when": "view == microPythonWorkBenchFsView && viewItem == file",
          "group": "1_open@2"
        },
        {
          "command": "microPythonWorkBench.syncFileLocalToBoard",
          "when": "view == microPythonWorkBenchFsView && viewItem == file",
          "group": "2_sync@1"
        },
        {
          "command": "microPythonWorkBench.syncFileBoardToLocal",
          "when": "view == microPythonWorkBenchFsView && viewItem == file",
          "group": "2_sync@2"
        },
        {
          "command": "microPythonWorkBench.newFileInTree",
          "when": "view == microPythonWorkBenchFsView && (viewItem == dir || viewItem == file)",
          "group": "0_create@0"
        },
        {
          "command": "microPythonWorkBench.newFolderInTree",
          "when": "view == microPythonWorkBenchFsView && (viewItem == dir || viewItem == file)",
          "group": "0_create@1"
        },
        {
          "command": "microPythonWorkBench.delete",
          "when": "view == microPythonWorkBenchFsView && (viewItem == file || viewItem == dir)",
          "group": "3_delete@1"
        },
        {
          "command": "microPythonWorkBench.deleteBoardAndLocal",
          "when": "view == microPythonWorkBenchFsView && (viewItem == file || viewItem == dir)",
          "group": "3_delete@2"
        },
        {
          "command": "microPythonWorkBench.newFileBoardAndLocal",
          "when": "view == microPythonWorkBenchFsView && !viewItem",
          "group": "0_create@0"
        },
        {
          "command": "microPythonWorkBench.newFileInTree",
          "when": "view == microPythonWorkBenchFsView && !viewItem",
          "group": "0_create@1"
        },
        {
          "command": "microPythonWorkBench.newFolderInTree",
          "when": "view == microPythonWorkBenchFsView && !viewItem",
          "group": "0_create@2"
        }
      ]
    },
    "configuration": {
      "type": "object",
      "title": "MicroPython WorkBench",
      "properties": {
        "microPythonWorkBench.autoSyncOnSave": {
          "type": "boolean",
          "default": false,
          "description": "Auto-sync on save: when enabled, saving a local file also uploads it to the board; when disabled, only saves locally. Per-workspace override available in .mpystudio/config.json."
        },
        "microPythonWorkBench.connect": {
          "type": "string",
          "default": "auto",
          "description": "Serial device (e.g. auto, /dev/ttyUSB0, COM3)"
        },
        "microPythonWorkBench.serialAutoSuspend": {
          "type": "boolean",
          "default": true,
          "description": "Automatically close the REPL terminal before file ops and reopen after."
        },
        "microPythonWorkBench.interruptOnConnect": {
          "type": "boolean",
          "default": true,
          "description": "On opening the REPL, send Ctrl-C to interrupt any running program."
        },
        "microPythonWorkBench.strictConnect": {
          "type": "boolean",
          "default": true,
          "description": "Before opening REPL, perform a strict handshake (reset + quick check + retry) to ensure prompt like Thonny."
        },
        "microPythonWorkBench.preListDelayMs": {
          "type": "number",
          "default": 150,
          "description": "Delay (ms) before listing after interrupt/reset to allow OS/device to settle."
        },
        "microPythonWorkBench.rootPath": {
          "type": "string",
          "default": "/",
          "description": "Root path to show on device (e.g. /, /lib)"
        },
        "microPythonWorkBench.usePyRawList": {
          "type": "boolean",
          "default": false,
          "description": "List directories using a Python raw REPL script (requires python3 + mpremote)."
        },
        "microPythonWorkBench.baudRate": {
          "type": "number",
          "default": 115200,
          "description": "Serial baud rate for UART bridges (ignored on native USB CDC). Try 921600 or 1500000 if your board/adapter supports it."
        },
        "microPythonWorkBench.pythonPath": {
          "type": "string",
          "default": "",
          "description": "Override Python interpreter path. Leave empty to use VS Code's configured Python interpreter."
        }
      }
    }
  }
}
